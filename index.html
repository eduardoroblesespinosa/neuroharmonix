<html lang="es" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reprogramación Frecuencial GLUT-1</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/p5@1.9.0/lib/p5.js"></script>
    <script type="importmap">
    {
        "imports": {
            "main": "./main.js"
        }
    }
    </script>
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-dark bg-transparent">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center" href="#">
                <img src="logo.png" alt="Logo" width="40" height="40" class="d-inline-block align-text-top me-2">
                <strong>NeuroHarmonix GLUT-1</strong>
            </a>
        </div>
    </nav>

    <main class="container mt-4">
        <div class="row g-4">
            <!-- Columna de Controles -->
            <div class="col-lg-4 col-md-12">
                <div class="card control-panel-card">
                    <div class="card-body">
                        <h5 class="card-title text-center mb-4">Panel de Control</h5>
                        
                        <div id="calibration-status" class="text-center mb-3 d-none">
                             <p class="mb-1 small">Ajuste los controles para sincronizar la señal.</p>
                             <div class="progress" style="height: 10px;" role="progressbar" aria-label="Progreso de calibración" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                                 <div id="calibration-progress" class="progress-bar bg-info" style="width: 0%"></div>
                             </div>
                             <small id="calibration-hint" class="text-muted d-block mt-1">Buscando resonancia...</small>
                        </div>

                        <div class="text-center mb-4">
                            <button id="startStopButton" class="btn btn-primary btn-lg rounded-pill px-5 py-2">Iniciar Calibración</button>
                        </div>

                        <div class="mb-4">
                            <label for="baseFreqSlider" class="form-label">Frecuencia Base (Corteza Cerebral): <span id="baseFreqValue">40</span> Hz</label>
                            <input type="range" class="form-range" id="baseFreqSlider" min="20" max="100" value="40">
                        </div>

                        <div class="mb-4">
                            <label for="binauralFreqSlider" class="form-label">Diferencial de Armonización: <span id="binauralFreqValue">5</span> Hz</label>
                            <input type="range" class="form-range" id="binauralFreqSlider" min="1" max="20" value="5">
                        </div>

                        <div class="mb-4">
                            <label for="volumeSlider" class="form-label">Volumen: <span id="volumeValue">50</span>%</label>
                            <input type="range" class="form-range" id="volumeSlider" min="0" max="100" value="50">
                        </div>
                         <p class="text-muted small text-center mt-3">Utilice auriculares para una experiencia óptima.</p>
                    </div>
                </div>
            </div>

            <!-- Columna de Visualización -->
            <div class="col-lg-8 col-md-12">
                <div class="card visualization-card">
                     <div id="canvas-container" class="w-100 h-100"></div>
                     <div id="status-overlay" class="status-overlay">
                        <div id="status-text">SESIÓN DETENIDA</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sección de Información -->
        <div class="row mt-4">
            <div class="col-12">
                <div class="accordion" id="infoAccordion">
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                El Proceso de Armonización Frecuencial
                            </button>
                        </h2>
                        <div id="collapseOne" class="accordion-collapse collapse show" data-bs-parent="#infoAccordion">
                            <div class="accordion-body">
                                La plataforma genera un campo de audiofrecuencias cuidadosamente calibrado, diseñado para interactuar con los patrones electromagnéticos del cerebro. Se emite una frecuencia base que busca resonar con la actividad neuronal general, mientras que una segunda frecuencia, ligeramente desfasada, crea un tono binaural. Este tono está teóricamente orientado a estimular la neuroplasticidad y facilitar un estado de mayor coherencia neuronal, buscando contrarrestar la disonancia causada por la deficiencia en el transporte de glucosa.
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseCalibration" aria-expanded="false" aria-controls="collapseCalibration">
                                Fase de Calibración de Resonancia
                            </button>
                        </h2>
                        <div id="collapseCalibration" class="accordion-collapse collapse" data-bs-parent="#infoAccordion">
                            <div class="accordion-body">
                                Antes de iniciar una sesión, es crucial realizar una <strong>calibración de resonancia</strong>. Cada cerebro posee una firma electromagnética única. La fase de calibración ajusta la plataforma a su estado neuronal actual. Usted deberá manipular la frecuencia base y el diferencial de armonización para encontrar un "punto dulce" de máxima coherencia, indicado visualmente en el panel. Este proceso asegura que la sesión de armonización sea personalizada y potencialmente más efectiva, alineando las frecuencias emitidas con las necesidades específicas de su corteza cerebral.
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                Tecnología Aplicada
                            </button>
                        </h2>
                        <div id="collapseTwo" class="accordion-collapse collapse" data-bs-parent="#infoAccordion">
                            <div class="accordion-body">
                                Utilizamos la <strong>Web Audio API</strong> para la generación precisa de ondas sinusoidales en tiempo real, permitiendo un control total sobre las frecuencias y el volumen. La visualización se renderiza con <strong>p5.js</strong>, un potente motor gráfico que traduce las señales de audio en una representación visual abstracta del estado de la "armonización". La interfaz ha sido construida con <strong>Bootstrap 5</strong> para asegurar una experiencia de usuario fluida y adaptable a cualquier dispositivo.
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed bg-warning-subtle text-emphasis-warning" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                Descargo de Responsabilidad Importante
                            </button>
                        </h2>
                        <div id="collapseThree" class="accordion-collapse collapse" data-bs-parent="#infoAccordion">
                            <div class="accordion-body">
                                <strong>Esta aplicación es una herramienta conceptual y experimental. NO es un dispositivo médico ni un tratamiento para la epilepsia o el síndrome de deficiencia del transportador de glucosa tipo 1 (GLUT1).</strong> Su propósito es únicamente exploratorio y de visualización de conceptos de audiofrecuencia. No debe ser utilizada para reemplazar, alterar o complementar ningún tratamiento médico prescrito. Consulte siempre a un profesional de la salud cualificado para cualquier consulta médica. El uso de esta aplicación es bajo su propio riesgo y responsabilidad.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <footer class="text-center text-muted py-4">
        <p>&copy; 2025 NeuroHarmonix. Todos los derechos reservados.</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script type="module">
        import 'main';
    </script>
</body>
</html>
